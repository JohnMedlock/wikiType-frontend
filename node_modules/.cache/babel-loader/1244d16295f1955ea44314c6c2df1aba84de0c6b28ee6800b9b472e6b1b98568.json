{"ast":null,"code":"import React,{useCallback,useEffect,useState}from'react';import{useSettings}from'../../contexts/SettingsContext';import'./Metrics.scss';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Metrics=_ref=>{let{wpm,accuracy,progress,onPause,onSave}=_ref;const{settings}=useSettings();const[isPaused,setIsPaused]=useState(false);const handlePause=useCallback(()=>{setIsPaused(prev=>!prev);if(onPause){onPause(!isPaused);}},[isPaused,onPause]);useEffect(()=>{const handleKeyPress=e=>{if(e.key==='Escape'){handlePause();}};document.addEventListener('keydown',handleKeyPress);return()=>document.removeEventListener('keydown',handleKeyPress);},[handlePause]);return/*#__PURE__*/_jsxs(\"div\",{className:`metrics ${isPaused?'paused':''}`,children:[settings.showWPM&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"metric\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"wpm\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:wpm})]}),/*#__PURE__*/_jsx(\"div\",{className:\"separator\"})]}),settings.showAccuracy&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"metric\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"acc\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"value\",children:[accuracy,\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"separator\"})]}),settings.showProgress&&/*#__PURE__*/_jsxs(\"div\",{className:\"metric\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"progress\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"value\",children:[Math.round(progress),\"%\"]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"pause-button\",onClick:handlePause,title:\"Press ESC to pause\",children:isPaused?'▶':'⏸'}),/*#__PURE__*/_jsx(\"button\",{className:\"save-button\",onClick:onSave,title:\"Save progress\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-save\"})})]});};export default Metrics;","map":{"version":3,"names":["React","useCallback","useEffect","useState","useSettings","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Metrics","_ref","wpm","accuracy","progress","onPause","onSave","settings","isPaused","setIsPaused","handlePause","prev","handleKeyPress","e","key","document","addEventListener","removeEventListener","className","children","showWPM","showAccuracy","showProgress","Math","round","onClick","title"],"sources":["/Users/johnmedlock/wikiType-frontend/src/components/Metrics/Metrics.jsx"],"sourcesContent":["import React, { useCallback, useEffect, useState } from 'react';\nimport { useSettings } from '../../contexts/SettingsContext';\nimport './Metrics.scss';\n\nconst Metrics = ({ wpm, accuracy, progress, onPause, onSave }) => {\n  const { settings } = useSettings();\n  const [isPaused, setIsPaused] = useState(false);\n\n  const handlePause = useCallback(() => {\n    setIsPaused(prev => !prev);\n    if (onPause) {\n      onPause(!isPaused);\n    }\n  }, [isPaused, onPause]);\n\n  useEffect(() => {\n    const handleKeyPress = (e) => {\n      if (e.key === 'Escape') {\n        handlePause();\n      }\n    };\n\n    document.addEventListener('keydown', handleKeyPress);\n    return () => document.removeEventListener('keydown', handleKeyPress);\n  }, [handlePause]);\n\n  return (\n    <div className={`metrics ${isPaused ? 'paused' : ''}`}>\n      {settings.showWPM && (\n        <>\n          <div className=\"metric\">\n            <span className=\"label\">wpm</span>\n            <span className=\"value\">{wpm}</span>\n          </div>\n          <div className=\"separator\" />\n        </>\n      )}\n      {settings.showAccuracy && (\n        <>\n          <div className=\"metric\">\n            <span className=\"label\">acc</span>\n            <span className=\"value\">{accuracy}%</span>\n          </div>\n          <div className=\"separator\" />\n        </>\n      )}\n      {settings.showProgress && (\n        <div className=\"metric\">\n          <span className=\"label\">progress</span>\n          <span className=\"value\">{Math.round(progress)}%</span>\n        </div>\n      )}\n      <button \n        className=\"pause-button\" \n        onClick={handlePause}\n        title=\"Press ESC to pause\"\n      >\n        {isPaused ? '▶' : '⏸'}\n      </button>\n      <button\n        className=\"save-button\"\n        onClick={onSave}\n        title=\"Save progress\"\n      >\n        <i className=\"fas fa-save\"></i>\n      </button>\n    </div>\n  );\n};\n\nexport default Metrics;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,WAAW,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC/D,OAASC,WAAW,KAAQ,gCAAgC,CAC5D,MAAO,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAExB,KAAM,CAAAC,OAAO,CAAGC,IAAA,EAAkD,IAAjD,CAAEC,GAAG,CAAEC,QAAQ,CAAEC,QAAQ,CAAEC,OAAO,CAAEC,MAAO,CAAC,CAAAL,IAAA,CAC3D,KAAM,CAAEM,QAAS,CAAC,CAAGd,WAAW,CAAC,CAAC,CAClC,KAAM,CAACe,QAAQ,CAAEC,WAAW,CAAC,CAAGjB,QAAQ,CAAC,KAAK,CAAC,CAE/C,KAAM,CAAAkB,WAAW,CAAGpB,WAAW,CAAC,IAAM,CACpCmB,WAAW,CAACE,IAAI,EAAI,CAACA,IAAI,CAAC,CAC1B,GAAIN,OAAO,CAAE,CACXA,OAAO,CAAC,CAACG,QAAQ,CAAC,CACpB,CACF,CAAC,CAAE,CAACA,QAAQ,CAAEH,OAAO,CAAC,CAAC,CAEvBd,SAAS,CAAC,IAAM,CACd,KAAM,CAAAqB,cAAc,CAAIC,CAAC,EAAK,CAC5B,GAAIA,CAAC,CAACC,GAAG,GAAK,QAAQ,CAAE,CACtBJ,WAAW,CAAC,CAAC,CACf,CACF,CAAC,CAEDK,QAAQ,CAACC,gBAAgB,CAAC,SAAS,CAAEJ,cAAc,CAAC,CACpD,MAAO,IAAMG,QAAQ,CAACE,mBAAmB,CAAC,SAAS,CAAEL,cAAc,CAAC,CACtE,CAAC,CAAE,CAACF,WAAW,CAAC,CAAC,CAEjB,mBACEb,KAAA,QAAKqB,SAAS,CAAE,WAAWV,QAAQ,CAAG,QAAQ,CAAG,EAAE,EAAG,CAAAW,QAAA,EACnDZ,QAAQ,CAACa,OAAO,eACfvB,KAAA,CAAAE,SAAA,EAAAoB,QAAA,eACEtB,KAAA,QAAKqB,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACrBxB,IAAA,SAAMuB,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAC,KAAG,CAAM,CAAC,cAClCxB,IAAA,SAAMuB,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAEjB,GAAG,CAAO,CAAC,EACjC,CAAC,cACNP,IAAA,QAAKuB,SAAS,CAAC,WAAW,CAAE,CAAC,EAC7B,CACH,CACAX,QAAQ,CAACc,YAAY,eACpBxB,KAAA,CAAAE,SAAA,EAAAoB,QAAA,eACEtB,KAAA,QAAKqB,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACrBxB,IAAA,SAAMuB,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAC,KAAG,CAAM,CAAC,cAClCtB,KAAA,SAAMqB,SAAS,CAAC,OAAO,CAAAC,QAAA,EAAEhB,QAAQ,CAAC,GAAC,EAAM,CAAC,EACvC,CAAC,cACNR,IAAA,QAAKuB,SAAS,CAAC,WAAW,CAAE,CAAC,EAC7B,CACH,CACAX,QAAQ,CAACe,YAAY,eACpBzB,KAAA,QAAKqB,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACrBxB,IAAA,SAAMuB,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAC,UAAQ,CAAM,CAAC,cACvCtB,KAAA,SAAMqB,SAAS,CAAC,OAAO,CAAAC,QAAA,EAAEI,IAAI,CAACC,KAAK,CAACpB,QAAQ,CAAC,CAAC,GAAC,EAAM,CAAC,EACnD,CACN,cACDT,IAAA,WACEuB,SAAS,CAAC,cAAc,CACxBO,OAAO,CAAEf,WAAY,CACrBgB,KAAK,CAAC,oBAAoB,CAAAP,QAAA,CAEzBX,QAAQ,CAAG,GAAG,CAAG,GAAG,CACf,CAAC,cACTb,IAAA,WACEuB,SAAS,CAAC,aAAa,CACvBO,OAAO,CAAEnB,MAAO,CAChBoB,KAAK,CAAC,eAAe,CAAAP,QAAA,cAErBxB,IAAA,MAAGuB,SAAS,CAAC,aAAa,CAAI,CAAC,CACzB,CAAC,EACN,CAAC,CAEV,CAAC,CAED,cAAe,CAAAlB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}